syntax = "proto3";

package audiosst;

service AudioSTTService {
    rpc SendAudio(AudioFileInfo) returns (ResponseInfo) {}
}

message AudioFileInfo {
    bytes audio_buff = 1;
}

message ResultSegment {
    string text = 1;
    float start = 2;
    float end = 3;
}

message ResponseInfo {
    oneof response_oneof{
        ExceptionMessage e_message = 1;
        AudioSubbedInfo res_message = 2;
    }
}

message ExceptionMessage {
    string error = 1;
}

message AudioSubbedInfo {
    string long_text = 1;
    repeated ResultSegment segments = 2;
}